<!DOCTYPE html>
<html lang="mn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üêé –ú–æ—Ä–∏–Ω—ã –ê–¥–∞–ª –Ø–≤–¥–∞–ª</title>
  <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;700&family=Montserrat:wght@600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
  <style>
    :root {
      --primary: #ff5e5e;
      --secondary: #4dabf7;
      --accent: #ffd166;
      --dark: #2c1508;
      --light: #fff9f0;
    }

    body {
      background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%), url('https://images.unsplash.com/photo-1509316785289-025f5b846b35?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80') no-repeat center center fixed;
      background-size: cover;
      background-blend-mode: multiply;
      font-family: "Comfortaa", cursive;
      padding: 2rem;
      text-align: center;
      color: var(--light);
      min-height: 100vh;
      overflow-x: hidden;
    }

    h1 {
      color: var(--accent);
      font-size: 3.5rem;
      margin-bottom: 2rem;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
      animation: fadeInDown 1s;
      background: rgba(0, 0, 0, 0.3);
      padding: 1rem;
      border-radius: 20px;
      display: inline-block;
      border: 3px solid var(--accent);
    }

    .user-info {
      display: flex;
      justify-content: space-around;
      align-items: center;
      gap: 2rem;
      margin-bottom: 3rem;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      padding: 1.5rem;
      border-radius: 15px;
      font-size: 1.5rem;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      animation: fadeIn 1s;
      border: 2px solid rgba(255, 255, 255, 0.2);
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }

    .user-info div {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .quiz-container {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(5px);
      padding: 2.5rem;
      border-radius: 20px;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
      max-width: 700px;
      margin: 0 auto;
      animation: fadeIn 1s;
      border: 2px solid rgba(255, 255, 255, 0.1);
      position: relative;
    }

    .horse-animation {
      position: absolute;
      top: -60px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 4rem;
      animation: gallop 2s infinite;
      filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.3));
    }

    @keyframes gallop {
      0% { transform: translateX(-50%) translateY(0); }
      50% { transform: translateX(-50%) translateY(-20px); }
      100% { transform: translateX(-50%) translateY(0); }
    }

    .question-info {
      font-size: 1.2rem;
      color: var(--accent);
      margin-bottom: 1rem;
      font-weight: bold;
    }

    .question {
      font-size: 1.8rem;
      font-weight: bold;
      margin-bottom: 1.5rem;
      color: var(--light);
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
    }

    .options {
      display: grid;
      gap: 1.2rem;
    }

    .option {
      background: rgba(255, 255, 255, 0.15);
      padding: 1.5rem;
      border-radius: 15px;
      font-size: 1.4rem;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 2px solid rgba(255, 255, 255, 0.2);
      color: var(--light);
    }

    .option:hover {
      transform: scale(1.05);
      background: rgba(255, 255, 255, 0.3);
      border-color: var(--accent);
    }

    .option:active {
      transform: scale(0.95);
    }

    .option.correct {
      background: linear-gradient(90deg, #4CAF50, #8BC34A);
      color: var(--light);
      transform: scale(1.05);
      animation: correctGlow 0.5s ease-in-out;
    }

    .option.incorrect {
      background: linear-gradient(90deg, #f44336, #e57373);
      color: var(--light);
      transform: scale(0.95);
      animation: shake 0.3s ease-in-out;
    }

    @keyframes correctGlow {
      0% { box-shadow: 0 0 10px #4CAF50; }
      50% { box-shadow: 0 0 20px #4CAF50; }
      100% { box-shadow: 0 0 10px #4CAF50; }
    }

    @keyframes shake {
      0% { transform: translateX(0); }
      25% { transform: translateX(-10px); }
      50% { transform: translateX(10px); }
      75% { transform: translateX(-10px); }
      100% { transform: translateX(0); }
    }

    .progress-container {
      margin-top: 1.5rem;
      width: 100%;
    }

    .progress-text {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.5rem;
      font-size: 1rem;
      color: var(--light);
    }

    .progress-bar {
      height: 10px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 5px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      width: 0%;
      transition: width 0.8s ease;
      border-radius: 5px;
    }

    .timer {
      font-size: 1.4rem;
      color: var(--accent);
      margin-top: 1.5rem;
      font-weight: bold;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
    }

    .button-container {
      margin-top: 2.5rem;
      display: flex;
      justify-content: center;
      gap: 1.5rem;
    }

    .back-button, .restart-button {
      padding: 1.2rem 2.5rem;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      color: var(--light);
      border-radius: 15px;
      text-decoration: none;
      font-size: 1.4rem;
      transition: all 0.3s ease;
      cursor: pointer;
      border: none;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    }

    .back-button:hover, .restart-button:hover {
      transform: scale(1.05);
      background: linear-gradient(90deg, var(--secondary), var(--primary));
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
    }

    .achievement-badge {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      padding: 1rem 1.5rem;
      border-radius: 10px;
      font-size: 1.1rem;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
      display: flex;
      align-items: center;
      gap: 0.8rem;
      z-index: 100;
      transform: translateX(150%);
      transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    .achievement-badge.show {
      transform: translateX(0);
    }

    .achievement-icon {
      font-size: 1.8rem;
    }

    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      background-color: var(--accent);
      opacity: 0;
      z-index: 99;
      animation: confetti-fall 3s ease-in-out forwards;
    }

    @keyframes confetti-fall {
      0% {
        transform: translateY(-100vh) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translateY(100vh) rotate(720deg);
        opacity: 0;
      }
    }

    @media (max-width: 768px) {
      h1 {
        font-size: 2.2rem;
        padding: 0.8rem;
      }

      .user-info {
        flex-direction: column;
        gap: 1rem;
        font-size: 1.2rem;
        padding: 1rem;
      }

      .quiz-container {
        padding: 1.5rem;
      }

      .question {
        font-size: 1.5rem;
      }

      .option {
        font-size: 1.2rem;
        padding: 1rem;
      }

      .timer {
        font-size: 1.2rem;
      }

      .horse-animation {
        font-size: 3rem;
      }
    }
  </style>
</head>
<body>
  <h1 class="animate__animated animate__fadeInDown">üêé –ú–æ—Ä–∏–Ω—ã –¢—É—Ö–∞–π –ë–∞—Ä–∏–º—Ç</h1>

  <div class="user-info animate__animated animate__fadeIn">
    <div><span class="emoji">üåü</span> –û–Ω–æ–æ: <span id="score">0</span></div>
    <div><span class="emoji">‚ù§Ô∏è</span> –ê–º—å: <span id="lives">3</span></div>
    <div><span class="emoji">üèÜ</span> –¢“Ø–≤—à–∏–Ω: <span id="level">1</span></div>
  </div>

  <div class="quiz-container animate__animated animate__fadeIn">
    <div class="horse-animation">üêé</div>
    <div class="question-info" id="question-info">–ê—Å—É—É–ª—Ç 1 / 15</div>
    <div class="question" id="question">–ê—Å—É—É–ª—Ç —ç–Ω–¥ –≥–∞—Ä–Ω–∞...</div>
    <div class="options" id="options"></div>
    <div class="timer" id="timer">–•—É–≥–∞—Ü–∞–∞: 15 —Å–µ–∫—É–Ω–¥</div>
    <div class="progress-container">
      <div class="progress-text">
        <span>–î—É—É—Å–≥–∞—Å–∞–Ω</span>
        <span id="progress-text">0%</span>
      </div>
      <div class="progress-bar">
        <div class="progress-fill" id="progress-fill"></div>
      </div>
    </div>
  </div>

  <div class="button-container">
    <a href="game3.html" class="back-button animate__animated animate__fadeIn">–ë—É—Ü–∞—Ö</a>
    <button class="restart-button animate__animated animate__fadeIn" id="restart-button">–î–∞—Ö–∏–Ω —ç—Ö–ª—ç—Ö</button>
  </div>

  <div class="achievement-badge" id="achievement-badge">
    <span class="achievement-icon">üéâ</span>
    <span class="achievement-text">–®–∏–Ω—ç –∞–º–∂–∏–ª—Ç!</span>
  </div>

  <script>
    let userData = JSON.parse(localStorage.getItem('mongolGameUser')) || {
      score: 0,
      lives: 3,
      level: 1,
      progress: { horse: 0, onisogo: 0, zuirug: 0, uv_soul: 0, naadam: 0, zui: 0 },
      levels: { horse: 1, onisogo: 1, zuirug: 1, uv_soul: 1, naadam: 1, zui: 1 },
      unlocked: ['horse'],
      achievements: []
    };
    const questions = [
      {
        question: "–ú–æ–Ω–≥–æ–ª—ã–Ω —É–ª–∞–º–∂–ª–∞–ª—Ç –º–æ—Ä–∏–Ω —É—Ä–∞–ª–¥–∞–∞–Ω–¥ —Ö—ç–¥—ç–Ω –Ω–∞—Å–Ω—ã –º–æ—Ä—å–¥ —É—Ä–∞–ª–¥–¥–∞–≥ –≤—ç?",
        options: ["6 –Ω–∞—Å", "7 –Ω–∞—Å", "8 –Ω–∞—Å", "9 –Ω–∞—Å"],
        correct: "6 –Ω–∞—Å"
      },
      {
        question: "–ú–æ–Ω–≥–æ–ª –º–æ—Ä—å–¥—ã–Ω —Ö–∞–º–≥–∏–π–Ω –∞–ª–¥–∞—Ä—Ç–∞–π —É–¥–∞–º —É–≥—à–∏–ª —é—É –≤—ç?",
        options: ["–•–∞–ª—Ö –º–æ—Ä—å", "–î–∞—Ä—Ö–∞–Ω –º–æ—Ä—å", "–ì–∞–ª—à–∞—Ä –º–æ—Ä—å", "–¢–∞—Ö—å"],
        correct: "–ì–∞–ª—à–∞—Ä –º–æ—Ä—å"
      },
      {
        question: "–Ø–º–∞—Ä –Ω–∞—Å–Ω—ã —É—Ä–∞–ª–¥–∞–∞–Ω —Ö–∞–º–≥–∏–π–Ω –∞–∑ —Ö–∏–π–º–æ—Ä—Ç–æ–π –≤—ç?",
        options: ["–ê–∑–∞—Ä–≥–∞", "–ò—Ö –Ω–∞—Å", "–°–æ—ë–æ–ª–æ–Ω", "–î–∞–∞–≥–∞"],
        correct: "–°–æ—ë–æ–ª–æ–Ω"
      },
      {
        question: "–•—ç–¥—ç–Ω –Ω–∞—Å–Ω–∞–∞—Å –¥—ç—ç—à —ç—Ö—ç–ª–∂ —Ö“Ø“Ø—Ö—ç–¥ –Ω–∞–∞–¥–∞–º–¥ –º–æ—Ä—å —É–Ω–∞–∂ —É—Ä–∞–ª–¥–¥–∞–≥ –≤—ç?",
        options: ["5 –Ω–∞—Å", "6 –Ω–∞—Å", "7 –Ω–∞—Å", "8 –Ω–∞—Å"],
        correct: "8 –Ω–∞—Å"
      },
      {
        question: "–ú–æ–Ω–≥–æ–ª—ã–Ω —É–ª–∞–º–∂–ª–∞–ª—Ç –º–æ—Ä–∏–Ω—ã —ç–º—ç—ç–ª —è–º–∞—Ä –æ–Ω—Ü–ª–æ–≥—Ç–æ–π –≤—ç?",
        options: ["–•”©–Ω–≥”©–Ω, –∂–∏–∂–∏–≥", "–¢–æ–º, —Ö“Ø–Ω–¥", "–ú–µ—Ç–∞–ª–ª–∞–∞—Ä —Ö–∏–π–≥–¥—Å—ç–Ω", "–ó”©”©–ª”©–Ω –¥–∞–∞–≤—É—É–Ω"],
        correct: "–•”©–Ω–≥”©–Ω, –∂–∏–∂–∏–≥"
      },
      {
        question: "–ú–æ—Ä–∏–Ω —É—Ä–∞–ª–¥–∞–∞–Ω—ã —Ö–∞–º–≥–∏–π–Ω —Ö–æ–ª –∑–∞–π —Ö—ç–¥—ç–Ω –∫–∏–ª–æ–º–µ—Ç—Ä –±–∞–π–¥–∞–≥ –≤—ç?",
        options: ["10–∫–º", "20 –∫–º", "35 –∫–º", "25 –∫–º"],
        correct: "25 –∫–º"
      },
      {
        question: "–ú–æ–Ω–≥–æ–ª–¥ –º–æ—Ä–∏–Ω—ã —Ç—É—Ö–∞–π —è–º–∞—Ä –¥–æ–º–æ–≥ –∞–ª–¥–∞—Ä—Ç–∞–π –≤—ç?",
        options: ["–ì—É—Ä–≤–∞–Ω –º–∞—Ä–∞–ª—ã–Ω –¥–æ–º–æ–≥", "–•—É—Ä–¥–∞–Ω —Ö“Ø–ª–≥–∏–π–Ω –¥–æ–º–æ–≥", "–¢—ç–Ω–≥—ç—Ä–∏–π–Ω –º–æ—Ä–∏–Ω—ã –¥–æ–º–æ–≥", "–£—É–ª—ã–Ω –º–æ—Ä–∏–Ω—ã –¥–æ–º–æ–≥"],
        correct: "–¢—ç–Ω–≥—ç—Ä–∏–π–Ω –º–æ—Ä–∏–Ω—ã –¥–æ–º–æ–≥"
      },
      {
        question: "–ú–æ–Ω–≥–æ–ª—ã–Ω —Ö—É—Ä–¥–∞–Ω –º–æ—Ä–∏–Ω—ã —É—Ä–∞–ª–¥–∞–∞–Ω—ã –≥–æ–ª –∑–æ—Ä–∏–ª–≥–æ —é—É –≤—ç?",
        options: ["–•—É—Ä–¥–Ω—ã —Å–æ—Ä–∏–ª", "–¢—ç—Å–≤—ç—Ä–∏–π–Ω —Å–æ—Ä–∏–ª", "–£—Ä —á–∞–¥–≤–∞—Ä—ã–Ω —Å–æ—Ä–∏–ª", "–ì–æ–æ –∑“Ø–π–Ω —Å–æ—Ä–∏–ª"],
        correct: "–¢—ç—Å–≤—ç—Ä–∏–π–Ω —Å–æ—Ä–∏–ª"
      },
      {
        question: "–ú–æ—Ä—å —É—Ä–∞–ª–¥—Å–∞–Ω—ã –¥–∞—Ä–∞–∞ —è–º–∞—Ä —É–ª–∞–º–∂–ª–∞–ª—Ç –∑“Ø–π–ª —Ö–∏–π–¥—ç–≥ –≤—ç?",
        options: ["–ú–æ—Ä–∏–Ω—ã —Ü–æ–ª –¥—É—É–¥–∞—Ö", "–ú–æ—Ä–∏–Ω–¥ –±–∞—è—Ä —Ö“Ø—Ä–≥—ç—Ö", "–ú–æ—Ä–∏–Ω—ã —ç–º—ç—ç–ª–∏–π–≥ —Å–æ–ª–∏—Ö", "–ú–æ—Ä–∏–Ω—ã –∑—É—Ä–∞–≥ –∞–≤–∞—Ö"],
        correct: "–ú–æ—Ä–∏–Ω—ã —Ü–æ–ª –¥—É—É–¥–∞—Ö"
      },
      {
        question: "–ú–æ—Ä–∏–Ω —É—Ä–∞–ª–¥–∞–∞–Ω–¥ —è–º–∞—Ä –∞–º—å—Ç–Ω—ã –Ω—ç—Ä—ç—ç—Ä —Ü–æ–ª ”©–≥–¥”©–≥ –≤—ç?",
        options: ["–ë–∞—Ä", "–ß–æ–Ω–æ", "–ë“Ø—Ä–≥—ç–¥", "–¢–∞—Ö—å"],
        correct: "–ë“Ø—Ä–≥—ç–¥"
      },
      {
        question: "–ú–æ—Ä–∏–Ω—ã —ç–º—ç—ç–ª–∏–π–≥ —è–º–∞—Ä –º–∞—Ç–µ—Ä–∏–∞–ª –≥–æ–ª—á–ª–æ–Ω –∞—à–∏–≥–ª–∞–¥–∞–≥ –≤—ç?",
        options: ["–ú–æ–¥, –∞—Ä—å—Å", "–ú–µ—Ç–∞–ª–ª, –¥–∞–∞–≤—É—É", "–•—É–≤–∞–Ω—Ü–∞—Ä, –∞—Ä—å—Å", "–ì–∞–Ω, –¥–∞–∞–≤—É—É"],
        correct: "–ú–æ–¥, –∞—Ä—å—Å"
      },
      {
        question: "–ú–æ–Ω–≥–æ–ª—ã–Ω –º–æ—Ä–∏–Ω—ã —É—Ä–∞–ª–¥–∞–∞–Ω—ã —Ö“Ø“Ø—Ö—ç–¥ –Ω–∞—Ä —è–º–∞—Ä —Ö—É–≤—Ü–∞—Å ”©–º—Å–¥”©–≥ –≤—ç?",
        options: ["–î—ç—ç–ª", "–ú–∞–ª–≥–∞–π, —Ö–∞–Ω—Ç–∞–∞–∑", "–•“Ø—Ä—ç–º, –≥—É—Ç–∞–ª", "–ë“Ø—Ç—ç–Ω —Ö—É–≤—Ü–∞—Å"],
        correct: "–ú–∞–ª–≥–∞–π, —Ö–∞–Ω—Ç–∞–∞–∑"
      },
      {
        question: "–•—É—Ä–¥–∞–Ω –º–æ—Ä—å–¥—ã–≥ —é—É –≥—ç–∂ –¥—É—É–¥–¥–∞–≥ –≤—ç?",
        options: ["–•“Ø–ª—ç–≥", "–¢–∞—Ö—å", "–ê–¥—É—É", "–ú–æ—Ä–∏–Ω"],
        correct: "–•“Ø–ª—ç–≥"
      },
      {
        question: "–ú–æ—Ä—å–¥—ã–Ω—Ö–æ–æ —Ç—É—É—Ä–∞–π–≥ —Ö–∞–º–≥–∞–∞–ª–∞—Ö—ã–Ω —Ç—É–ª–¥ —é—É —Ö—ç—Ä—ç–≥–ª—ç–¥—ç–≥ –≤—ç?",
        options: ["–ê—Ä—å—Å–∞–Ω –≥—É—Ç–∞–ª", "–¢”©–º”©—Ä —Ç–∞—Ö", "–î–∞–∞–≤—É—É–Ω –±–æ–æ–ª—Ç", "–ú–æ–¥–æ–Ω —Ö–∞–≤—á–∞–∞—Ä"],
        correct: "–¢”©–º”©—Ä —Ç–∞—Ö"
      },
      {
        question: "–ú–æ–Ω–≥–æ–ª—á—É—É–¥—ã–Ω –º–æ—Ä—å —É—Ä–∞–ª–¥—É—É–ª–∞—Ö —É–ª–∞–º–∂–ª–∞–ª –∞–ª—å “Ø–µ—ç—Å —ç—Ö—ç–ª—Å—ç–Ω –≥—ç–∂ “Ø–∑–¥—ç–≥ –≤—ç?",
        options: ["–•“Ø–Ω–Ω“Ø–≥–∏–π–Ω “Ø–µ", "–£–π–≥—É—Ä—ã–Ω “Ø–µ", "–•–∞—Ä —Ö–æ—Ç—ã–Ω “Ø–µ", "–•—É–±–∏–ª–∞–π —Ö–∞–∞–Ω—ã “Ø–µ"],
        correct: "–•“Ø–Ω–Ω“Ø–≥–∏–π–Ω “Ø–µ"
      },
      {
        question: "–ú–æ–Ω–≥–æ–ª –∞–¥—É—É —è–º–∞—Ä –æ–Ω—Ü–ª–æ–≥—Ç–æ–π –≤—ç?",
        options: ["”®–Ω–¥”©—Ä –±–∏–µ—Ç—ç–π", "–¢—ç—Å–≤—ç—Ä—Ç—ç–π, —Ö“Ø—á—Ç—ç–π", "”®–Ω–≥”©–ª”©–≥ “Ø—Å—Ç—ç–π", "–°–∞–π–Ω –Ω–æ–º—Ö–æ–Ω"],
        correct: "–¢—ç—Å–≤—ç—Ä—Ç—ç–π, —Ö“Ø—á—Ç—ç–π"
      },
      {
        question: "–ú–æ–Ω–≥–æ–ª –∞–¥—É—É –∂–∏–ª–∏–π–Ω —Ö—ç–¥—ç–Ω —Å–∞—Ä–¥ —Ö–∞–º–≥–∏–π–Ω –∏—Ö —Ç–∞—Ä–≥–∞ –∞–≤–¥–∞–≥ –≤—ç?",
        options: ["4 —Å–∞—Ä", "5 —Å–∞—Ä", "8 —Å–∞—Ä", "9 —Å–∞—Ä"],
        correct: "8 —Å–∞—Ä"
      },
      {
        question: "–°–æ—ë–æ–ª–æ–Ω –≥—ç–∂ —è–º–∞—Ä –Ω–∞—Å—Ç–∞–π –∞–¥—É—É –≤—ç?",
        options: ["3 –Ω–∞—Å—Ç–∞–π", "4 –Ω–∞—Å—Ç–∞–π", "5 –Ω–∞—Å—Ç–∞–π", "6 –Ω–∞—Å—Ç–∞–π"],
        correct: "5 –Ω–∞—Å—Ç–∞–π"
      },
      {
        question: "–ú–æ–Ω–≥–æ–ª –∞–¥—É—É–Ω—ã —Å“Ø“Ø–ª —è–º–∞—Ä –±—ç–ª–≥—ç–¥—ç–ª—Ç—ç–π –±–∞–π–¥–∞–≥ –≤—ç?",
        options: ["–£—Ö–∞–∞–ª–∞–≥ –±–∞–π–¥–∞–ª", "–¢—ç–Ω–≥—ç—Ä–∏–π–Ω —Ö“Ø—á", "–¢—ç—Å–≤—ç—Ä —Ç—ç–≤—á—ç—ç—Ä", "–≠—Ä—ç–ª—Ö—ç–≥ –∑–æ—Ä–∏–≥"],
        correct: "–¢—ç—Å–≤—ç—Ä —Ç—ç–≤—á—ç—ç—Ä"
      },
      {
        question: "–ú–æ—Ä–∏–Ω—ã —É—Ä–∞–ª–¥–∞–∞–Ω—ã ”©–º–Ω”© —è–º–∞—Ä –∑“Ø–π–ª —É–Ω—à–∏–∂ –µ—Ä”©”©–¥”©–≥ –≤—ç?",
        options: ["–≠—Ä–∏–π–Ω —Å–∞–π–Ω –¥–æ–º–æ–≥", "–¢–∞–ª –Ω—É—Ç–≥–∏–π–Ω –¥–æ–º–æ–≥", "–•“Ø–ª–≥–∏–π–Ω –µ—Ä”©”©–ª", "–ë–æ—Ä –º–æ—Ä—å–Ω—ã –¥–æ–º–æ–≥"],
        correct: "–•“Ø–ª–≥–∏–π–Ω –µ—Ä”©”©–ª"
      },
      {
        question: "–•—É—Ä–¥–∞–Ω –º–æ—Ä—å —É—è–¥–∞–≥ —Ö“Ø–Ω–∏–π–≥ —Ö—ç—Ä—Ö—ç–Ω –Ω—ç—Ä–ª—ç–¥—ç–≥ –≤—ç?",
        options: ["–£—è–∞—á", "–•”©—Ç–ª”©–≥—á", "–°–æ–π–≥—á", "–ù–∞—Å–ª–∞–≥—á"],
        correct: "–£—è–∞—á"
      },
      {
        question: "–ú–æ–Ω–≥–æ–ª—ã–Ω —Ö–∞–º–≥–∏–π–Ω —Ç–æ–º —É—Ä–∞–ª–¥–∞–∞–Ω —é—É –≤—ç?",
        options: ["–£–ª—Å—ã–Ω –±–∞—è—Ä –Ω–∞–∞–¥–∞–º", "–ò—Ö —Ö—É—Ä–¥", "–û–π–Ω –Ω–∞–∞–¥–∞–º", "–ë“Ø—Å–∏–π–Ω –Ω–∞–∞–¥–∞–º"],
        correct: "–ò—Ö —Ö—É—Ä–¥"
      },
      {
        question: "–ú–æ–Ω–≥–æ–ª –∞–¥—É—É–Ω—ã ”©–≤”©–≥ –¥—ç—ç–¥—ç—Å —é—É –≤—ç?",
        options: ["–•—É–ª–∞–Ω", "–ò–ª–∂–∏–≥", "–¢–∞—Ö—å", "–≠—Ä–ª–∏–π–∑ –∞–¥—É—É"],
        correct: "–¢–∞—Ö—å"
      },
      {
        question: "–ú–æ–Ω–≥–æ–ª –∞–¥—É—É–Ω—ã —Ö–∞–º–≥–∏–π–Ω —Ö—É—Ä–¥–∞–Ω –º–æ—Ä—å —é—É –≤—ç?",
        options: ["–ê–∑–∞—Ä–≥–∞", "–ò—Ö –Ω–∞—Å", "–°–æ—ë–æ–ª–æ–Ω", "–î–∞–∞–≥–∞"],
        correct: "–ê–∑–∞—Ä–≥–∞"
      },
      {
        question: "–ì“Ø“Ø–Ω–∏–π —Å–∞–∞–º–∞–∞—Ä —Ö–∏–π—Å—ç–Ω —Ü–∞–≥–∞–∞–Ω –∏–¥—ç—ç —é—É –≤—ç?",
        options: ["–¢–∞—Ä–∞–≥", "–°“Ø“Ø", "–ê–π—Ä–∞–≥", "–ë—è—Å–ª–∞–≥"],
        correct: "–ê–π—Ä–∞–≥"
      },
      {
        question: "2 –Ω–∞—Å—Ç–∞–π –∞–¥—É—É–≥ —é—É –≥—ç–¥—ç–≥ –≤—ç? ",
        options: ["–î–∞–∞–≥–∞", "–°–æ—ë–æ–ª–æ–Ω", "–ò—Ö –Ω–∞—Å", "–ê–∑–∞—Ä–≥–∞"],
        correct: "–î–∞–∞–≥–∞"
      },
      {
        question: "–ú–æ—Ä–∏–Ω—ã —Ö“Ø–∑“Ø“Ø–Ω –¥—ç—ç—Ä—Ö “Ø—Å–∏–π–≥ —é—É –≥—ç–¥—ç–≥ –≤—ç?",
        options: ["“Æ—Å", "–ó–æ–≥–¥–æ—Ä", "–•—É—Ä–¥–Ω—ã “Ø—Å", "–î—ç–ª"],
        correct: "–î—ç–ª"
      }
    ];

    let shuffledQuestions = shuffleArray([...questions]);
    let currentQuestionIndex = 0;
    let correctAnswers = 0;
    let totalAnswers = 0;
    let timerInterval;
    let timeLeft = 15;
    const achievementBadge = document.getElementById('achievement-badge');

    document.getElementById('score').textContent = userData.score;
    document.getElementById('lives').textContent = userData.lives;
    document.getElementById('level').textContent = userData.levels.horse;
    updateProgressBar();
    loadQuestion();
    startTimer();
    showWelcomeMessage();

    function showWelcomeMessage() {
      const achievementText = document.querySelector('.achievement-text');
      achievementText.textContent = '–ú–æ—Ä–∏–Ω—ã –ê–¥–∞–ª –Ø–≤–¥–∞–ª–¥ —Ç–∞–≤—Ç–∞–π –º–æ—Ä–∏–ª! A–¥—É—É–Ω—ã —Ç—É—Ö–∞–π –º—ç–¥–ª—ç–≥—ç—ç —Å–æ—Ä–∏–æ—Ä–æ–π!';
      achievementBadge.classList.add('show');
      setTimeout(() => {
        achievementBadge.classList.remove('show');
      }, 2000);
    }

    function createConfetti() {
      for (let i = 0; i < 50; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = `${Math.random() * 100}vw`;
        confetti.style.width = `${Math.random() * 10 + 5}px`;
        confetti.style.height = `${Math.random() * 10 + 5}px`;
        confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
        confetti.style.animationDuration = `${Math.random() * 3 + 2}s`;
        document.body.appendChild(confetti);
        setTimeout(() => {
          confetti.remove();
        }, 2000);
      }
    }

    function showAchievement(message) {
      const achievementText = document.querySelector('.achievement-text');
      achievementText.textContent = message;
      achievementBadge.classList.add('show');
      createConfetti();
      setTimeout(() => {
        achievementBadge.classList.remove('show');
      }, 2000);
      if (!userData.achievements.includes(message)) {
        userData.achievements.push(message);
        localStorage.setItem('mongolGameUser', JSON.stringify(userData));
      }
    }

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function loadQuestion() {
      if (currentQuestionIndex >= shuffledQuestions.length) {
        endGame();
        return;
      }
      const currentQuestion = shuffledQuestions[currentQuestionIndex];
      document.getElementById('question').textContent = currentQuestion.question;
      document.getElementById('question-info').textContent = `–ê—Å—É—É–ª—Ç ${currentQuestionIndex + 1} / ${shuffledQuestions.length}`;

      const optionsContainer = document.getElementById('options');
      optionsContainer.innerHTML = '';
      currentQuestion.options.forEach(option => {
        const optionElement = document.createElement('div');
        optionElement.classList.add('option');
        optionElement.textContent = option;
        optionElement.onclick = () => checkAnswer(option, optionElement);
        optionsContainer.appendChild(optionElement);
      });
      resetTimer();
    }

    function startTimer() {
      timeLeft = 15;
      document.getElementById('timer').textContent = `–•—É–≥–∞—Ü–∞–∞: ${timeLeft} —Å–µ–∫—É–Ω–¥`;
      clearInterval(timerInterval);
      timerInterval = setInterval(() => {
        timeLeft--;
        document.getElementById('timer').textContent = `–•—É–≥–∞—Ü–∞–∞: ${timeLeft} —Å–µ–∫—É–Ω–¥`;
        if (timeLeft <= 0) {
          clearInterval(timerInterval);
          checkAnswer(null, null);
        }
      }, 1000);
    }

    function resetTimer() {
      timeLeft = 15;
      document.getElementById('timer').textContent = `–•—É–≥–∞—Ü–∞–∞: ${timeLeft} —Å–µ–∫—É–Ω–¥`;
      clearInterval(timerInterval);
      startTimer();
    }

    function checkAnswer(selected, element) {
      clearInterval(timerInterval);
      const currentQuestion = shuffledQuestions[currentQuestionIndex];
      totalAnswers++;

      const timeBonus = Math.max(timeLeft, 0);
      const baseScore = 1;
      const bonusScore = Math.floor(timeBonus/3);
      const totalScore = baseScore + bonusScore;

      if (selected === currentQuestion.correct) {
        correctAnswers++;
        userData.score += totalScore;
        const timeBon = Math.min(Math.floor((timeLeft / 15)*5), 5);
        userData.progress.horse = Math.min((userData.progress.horse  + timeBon), 100);
        const newLevel = Math.floor(userData.progress.horse / 20) + 1;
        if (newLevel > userData.levels.horse) {
          userData.levels.horse = newLevel;
          userData.level = Math.max(...Object.values(userData.levels));
          showAchievement(`–¢“Ø–≤—à–∏–Ω ${newLevel} —Ä—É—É –¥—ç–≤—à–ª—ç—ç! üëè`);
          if (userData.progress.horse >= 100) {
            showAchievement('üéâ –ú–æ—Ä–∏–Ω—ã –ê–¥–∞–ª –Ø–≤–¥–ª—ã–≥ –±“Ø—Ä—ç–Ω –¥—É—É—Å–≥–∞–ª–∞–∞! üëè');
            endGame();
          }
        }
        if (element) element.classList.add('correct');
      } else {
        userData.lives = Math.max(userData.lives - 1, 0);
        showAchievement(selected ? 'ü§¶‚Äç‚ôÇÔ∏è –ë—É—Ä—É—É —Ö–∞—Ä–∏—É–ª—Ç!' : 'üòï –•—É–≥–∞—Ü–∞–∞ –¥—É—É—Å–ª–∞–∞!');
        if (element) element.classList.add('incorrect');
        if (userData.lives === 0) {
          showAchievement('üò¢ –ê–º—å –¥—É—É—Å–ª–∞–∞! –¢–æ–≥–ª–æ–æ–º –¥—É—É—Å–ª–∞–∞.');
          endGame();
          return;
        }
      }

      document.getElementById('score').textContent = userData.score;
      document.getElementById('lives').textContent = userData.lives;
      document.getElementById('level').textContent = userData.levels.horse;
      updateProgressBar();
      localStorage.setItem('mongolGameUser', JSON.stringify(userData));
      document.querySelectorAll('.option').forEach(opt => opt.onclick = null);
      setTimeout(() => {
        currentQuestionIndex++;
        loadQuestion();
      }, 2000);
    }

    function updateProgressBar() {
      const fill = document.getElementById('progress-fill');
      const text = document.getElementById('progress-text');
      const val = userData.progress.horse;
      fill.style.width = `${val}%`;
      text.textContent = `${val}%`;
      if (val >= 100) {
        fill.style.background = 'linear-gradient(90deg, #4CAF50, #8BC34A)';
      }
    }

    function endGame() {
      clearInterval(timerInterval);
      showAchievement(`üéÆ –¢–æ–≥–ª–æ–æ–º –¥—É—É—Å–ª–∞–∞! –¢–∞–Ω—ã –æ–Ω–æ–æ: ${userData.score}, –ó”©–≤ —Ö–∞—Ä–∏—É–ª—Ç: ${correctAnswers}/${totalAnswers}`);
      document.getElementById('question').textContent = '–¢–æ–≥–ª–æ–æ–º –¥—É—É—Å–ª–∞–∞!';
      document.getElementById('options').innerHTML = '';
      document.getElementById('timer').style.display = 'none';
      document.getElementById('question-info').style.display = 'none';
      document.getElementById('lives').textContent = userData.lives;
    }
    document.getElementById('restart-button').onclick = () => {
      shuffledQuestions = shuffleArray([...questions]);
      currentQuestionIndex = 0;
      correctAnswers = 0;
      totalAnswers = 0;
      userData.lives = 3;
      userData.progress.horse = 0;
      userData.score = 0;
      userData.levels.horse = 1;
      document.getElementById('lives').textContent = userData.lives;
      document.getElementById('level').textContent = userData.levels.horse;
      document.getElementById('score').textContent = userData.score;
      document.getElementById('progress-text').textContent = '0%';
      document.getElementById('progress-fill').style.width = '0%';
      document.getElementById('timer').style.display = 'block';
      document.getElementById('question-info').style.display = 'block';
      loadQuestion();
      startTimer();
    };
  </script>
</body>
</html>